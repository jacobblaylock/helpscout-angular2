<h1>HelpScout Invoice API</h1>
<div class="container-fluid" *ngIf="errorMessage">
    <h3>ERROR:</h3>
    <p>{{errorMessage}}</p>
</div>
<div class="container-fluid">
    <div class="row">
        <form class="form-inline">
            <div class="form-group">
                <label for="startDate">Start Date</label>
                <input type="date" name="startDate" id="startDate" [(ngModel)]="startDate" required>
            </div>
            <div class="form-group">
                <label for="endDate">End Date</label>
                <input type="date" name="endDate" id="endDate" [(ngModel)]="endDate" required>
            </div>
            <button type="submit" class="btn btn-default" (click)="getConvByDate(startDate, endDate)">Submit</button>
        </form>
    </div>
    <p *ngIf="startDate && endDate">Query HelpScout conversations from {{startDate | date:"MM/dd/yyyy"}} to {{endDate | date:"MM/dd/yyyy"}}.</p>
</div>

<div *ngIf="count && pages">
    <h2>The search returned {{ count }} results over {{ pages }} pages.</h2>
    <button type="submit" class="btn btn-default" (click)="getConvByDateAllPages()">Get Conversations</button>
</div>

<div class="container-fluid" *ngIf="conversations.length > 0">
    <h3>Conversation IDs</h3>
    <ol>
        <li *ngFor="let c of conversations">#{{ c.number }}</li>
    </ol>
    <button type="submit" class="btn btn-default" (click)="getConvDetails()">Get Conversation Details</button>
</div>

<div class="container-fluid" *ngIf="threads.length > 0">
    <h2>Conversation Details</h2>
    <ol>
        <li *ngFor="let thread of threads">Conversation #{{thread.item.number}} - {{ thread.item.subject }} has {{thread.item.threadCount}} threads.</li>
    </ol>
</div>

